!function(){var t=window.AmCharts;t.AmGanttChart=t.Class({inherits:t.AmSerialChart,construct:function(a){this.type="gantt",t.AmGanttChart.base.construct.call(this,a),this.cname="AmGanttChart",this.period="ss",this.maxZoomFactor=1e6},initChart:function(){this.dataChanged&&this.processGanttData(),t.AmGanttChart.base.initChart.call(this)},parseData:function(){t.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.ganttDataProvider)},processGanttData:function(){var a;this.graphs=[];var i=this.dataProvider;this.ganttDataProvider=[];var e=this.categoryField,s=this.startField,r=this.endField,o=this.durationField,l=this.startDateField,h=this.endDateField,n=this.colorField,m=t.extractPeriod(this.period),u=m.period,m=m.count,c=this.dataDateFormat,d=t.getDate(this.startDate,c,"fff");this.categoryAxis.gridPosition="start",a=this.valueAxis,this.valueAxes=[a];var g;if("date"==a.type&&(g=!0),a.minimumDate&&(a.minimumDate=t.getDate(a.minimumDate,c,u)),a.maximumDate&&(a.maximumDate=t.getDate(a.maximumDate,c,u)),isNaN(a.minimum)||(a.minimumDate=t.changeDate(new Date(d),u,a.minimum,!0,!0)),isNaN(a.maximum)||(a.maximumDate=t.changeDate(new Date(d),u,a.maximum,!0,!0)),i)for(a=0;a<i.length;a++){var D=i[a],p={};p[e]=D[e];var f,v=D[this.segmentsField];if(this.ganttDataProvider.push(p),D=D[n],this.colors[a]||(this.colors[a]=t.randomColor()),v)for(var C=0;C<v.length;C++){var F=v[C],N=F[s],b=F[r],x=F[o];isNaN(N)&&(N=f),isNaN(x)||(b=N+x);var x="start_"+a+"_"+C,A="end_"+a+"_"+C;p[x]=N,p[A]=b;var y,P,_="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" ");for(P in _)y=_[P]+"Field",(f=this.graph[y])&&void 0!==F[f]&&(p[_[P]+"_"+a+"_"+C]=F[f]);if(f=b,g){y=t.getDate(F[l],c,u);var w=t.getDate(F[h],c,u);d&&(isNaN(N)||(y=t.changeDate(t.newDate(d,"fff"),u,N*m,!0,!0)),isNaN(b)||(w=t.changeDate(t.newDate(d,"fff"),u,b*m,!0,!0))),p[x]=y.getTime(),p[A]=w.getTime()}b={},t.copyProperties(F,b),N={},t.copyProperties(this.graph,N,!0);for(P in _)y=_[P]+"Field",this.graph[y]&&(N[y]=_[P]+"_"+a+"_"+C);N.customData=b,N.segmentData=F,N.labelFunction=this.graph.labelFunction,N.balloonFunction=this.graph.balloonFunction,N.customBullet=this.graph.customBullet,N.type="column",N.openField=x,N.valueField=A,N.clustered=!1,F[n]&&(D=F[n]),N.columnWidth=F[this.columnWidthField],void 0===D&&(D=this.colors[a]),(F=this.brightnessStep)&&(D=t.adjustLuminosity(D,C*F/100)),void 0===this.graph.lineColor&&(N.lineColor=D),void 0===this.graph.fillColors&&(N.fillColors=D),this.graphs.push(N)}}}})}();